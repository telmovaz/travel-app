(this["webpackJsonptravel-app"]=this["webpackJsonptravel-app"]||[]).push([[0],{41:function(e,t,a){},42:function(e,t){e.exports="data:image/png;base64,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"},44:function(e,t,a){e.exports=a.p+"static/media/heart.5e30bffd.svg"},45:function(e,t,a){e.exports=a.p+"static/media/heart-filled.2320281b.svg"},47:function(e,t,a){e.exports=a.p+"static/media/search.c4127766.svg"},50:function(e,t,a){e.exports=a(90)},55:function(e,t,a){},56:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(15),c=a.n(l),o=(a(55),a(2)),i=a(3),A=a(4),s=a(5),u=(a(56),a(9)),m=a(14),p=(a(57),a(58),a(42)),d=a.n(p),f=a(24),h=a(8),v=a.n(h),E=(a(76),function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={title:null,image:null,type:null,location:null,price:null},e.setValue=function(t,a){e.setState(Object(f.a)({},t,a))},e.addNewHotel=function(){var t={title:e.state.title,image:e.state.image,type:e.state.type,location:e.state.location,price:e.state.price};v.a.post("https://nodejs-mysql-it-academy.herokuapp.com/add-hotel",t).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"add-container"},r.a.createElement("form",null,r.a.createElement("input",{type:"text",placeholder:"Title",onChange:function(t){e.setValue("title",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Image",onChange:function(t){e.setValue("image",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Price",onChange:function(t){e.setValue("price",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("input",{type:"text",placeholder:"Location",onChange:function(t){e.setValue("location",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("select",{onChange:function(t){e.setValue("type",t.target.value)}},r.a.createElement("option",null,"Normal"),r.a.createElement("option",null,"Plus"),r.a.createElement("option",null,"Premium")),r.a.createElement("input",{type:"button",value:"Add hotel",onClick:this.addNewHotel})))}}]),a}(r.a.Component)),b=(a(77),function(e){var t=e.handleClose,a=e.show,n=e.children,l=a?"modal display-block":"modal display-none";return r.a.createElement("div",{className:l},r.a.createElement("section",{className:"modal-main"},n,r.a.createElement("button",{onClick:t},"close")))}),y=a(6),g=function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.showModal=function(){e.setState({show:!0})},e.hideModal=function(){e.setState({show:!1})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"Sidebar"},r.a.createElement("h1",null,"More than just hotels"),this.props.hotels.filter((function(e){return e.recommended})).map((function(e,t){return r.a.createElement("div",{key:t,className:e.recommended?"display-hotel":"not-display-hotel"},r.a.createElement("div",{className:"sidebar-wrapper"},r.a.createElement("div",{className:"sidebar-thumb"},r.a.createElement("img",{src:e.image,alt:""})),r.a.createElement("div",{className:"sidebar-text"},r.a.createElement("div",{className:"sidebar-text-title"},e.title),r.a.createElement("div",{className:"sidebar-text-location"},e.location),r.a.createElement("div",{className:"sidebar-text-price"},e.price)),r.a.createElement("div",{className:"sidebar-button"},r.a.createElement("img",{src:d.a,alt:""}))))})),r.a.createElement("button",{type:"button",onClick:this.showModal},"Add Hotel"),r.a.createElement(b,{show:this.state.show,handleClose:this.hideModal},r.a.createElement("div",null,r.a.createElement(E,null))))}}]),a}(r.a.Component),O=Object(y.b)((function(e){return{hotels:e.hotels}}))(g),j=(a(82),a(44)),S=a.n(j),P=a(45),R=a.n(P),k=(a(83),"https://nodejs-mysql-it-academy.herokuapp.com"),w={headers:{"Content-type":"multipart/form-data","x-access-token":localStorage.getItem("token")}},x=function(e){return{type:"SAVE_TEXT",payload:e}},T=function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){var t=e.props,a=t.hotel;(0,t.addToFavourites)(a)},e.isFav=function(t){return e.props.favourites.find((function(e){return e.id===t}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.hotel;return r.a.createElement("div",{className:"fav-button",onClick:this.handleClick},r.a.createElement("img",{className:"fav-icon",src:this.isFav(e.id)?R.a:S.a,alt:""}))}}]),a}(r.a.Component),C=Object(y.b)((function(e){return{favourites:e.favourites}}),(function(e){return{addToFavourites:function(t){return e(function(e){return{type:"ADD_TO_FAVOURITES",payload:e}}(t))}}}))(T),N=function(e){var t=e.data;e.removable;return r.a.createElement("div",null,r.a.createElement("div",{className:"hotel",key:t.id},r.a.createElement("img",{src:t.image,alt:"alt text"}),r.a.createElement("div",{className:"hotel__info"},r.a.createElement(u.b,{to:"hotel/"+t.id},r.a.createElement("span",{className:"hotel-name"},t.title)),r.a.createElement("p",null,t.location),r.a.createElement("p",null,t.price),r.a.createElement(C,{hotel:t}))))},H=function(e){return r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"tools",style:{width:"100%"}},r.a.createElement("input",{type:"button",value:e.sort?"A-Z":"Z-A",onClick:e.switchSort}),r.a.createElement("form",null,r.a.createElement("select",{onChange:function(t){e.convertPrice(t.target.value)}},r.a.createElement("option",null,"USD"),r.a.createElement("option",null,"EUR"),r.a.createElement("option",null,"PLN"),r.a.createElement("option",null,"CHF")))),e.data.map((function(e,t){return r.a.createElement(N,{data:e,key:t})})))},z=(a(85),a(47)),V=a.n(z),U=function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(e=t.call.apply(t,[this].concat(l))).state={},e.inputRef=r.a.createRef(),e.handleFilterPrice=function(t){e.props.filterHotelsPrice(t.target.value)},e.handleSearch=function(t){e.props.filterHotels(t.target.value)},e.handleClick=function(){e.props.dispatch(x("new text here"))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.inputRef.current.focus()}},{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"header-content"},r.a.createElement("div",{className:"header-icon"},r.a.createElement("img",{src:V.a,alt:""})),r.a.createElement("div",{className:"header-input"},r.a.createElement("input",{type:"text",className:"search-field",placeholder:"Enter location",onChange:this.handleSearch,ref:this.inputRef}))),r.a.createElement("input",{type:"text",className:"min-price",placeholder:"Min. price  $$",onChange:this.handleFilterPrice}),r.a.createElement("input",{type:"button",value:"click",onClick:this.handleClick}),this.props.savedText)}}]),a}(r.a.Component),q=Object(y.b)((function(e){return{savedText:e.text}}))(U),L={USD:1,EUR:.93,PLN:4.25,CHF:.98},D=[{title:"Season Paradise",image:"https://r-cf.bstatic.com/images/hotel/max1024x768/173/173010941.jpg",type:"premium",price:600,location:"Fiji"},{title:"Paradise Island Resort & Spa ",image:"https://r-cf.bstatic.com/images/hotel/max1024x768/167/167741036.jpg",type:"premium",price:960,location:"Bali"},{title:"Constance Halaveli ",image:"https://r-cf.bstatic.com/images/hotel/max1024x768/172/172993056.jpg",type:"plus",price:270,location:"Maldives"},{title:"Hard Rock Hotel Maldives",image:"https://r-cf.bstatic.com/images/hotel/max1024x768/173/173940938.jpg",type:"plus",price:120,location:"Maldives"},{title:"Royal Island Resort & Spa",image:"https://q-cf.bstatic.com/images/hotel/max1024x768/101/101259302.jpg",type:"normal",price:345,location:"Barbados"},{title:"Vilamendhoo Island Resort & Spa",image:"https://r-cf.bstatic.com/images/hotel/max1024x768/115/115155237.jpg",type:"premium",price:980,location:"Barbados"},{title:"Kandima Maldives",image:"https://q-cf.bstatic.com/images/hotel/max1024x768/110/110876334.jpg",type:"plus",price:250,location:"Fiji"},{title:"Furaveri Island Resort & Spa",image:"https://q-cf.bstatic.com/images/hotel/max1024x768/228/228053962.jpg",type:"plus",price:400,location:"Bali"},{title:"Medhufushi Island Resort",image:"https://q-cf.bstatic.com/images/hotel/max1024x768/100/100074523.jpg",type:"normal",price:330,location:"Barbados"},{title:"Makunudu Island",image:"https://r-cf.bstatic.com/images/hotel/max1024x768/101/101258523.jpg",type:"premium",price:1280,location:"Fiji"},{title:"Holiday Island Resort",image:"https://r-cf.bstatic.com/images/hotel/max1024x768/178/178295032.jpg",type:"plus",price:640,location:"Barbados"},{title:"Samann Grand",image:"https://q-cf.bstatic.com/images/hotel/max1024x768/167/167739721.jpg",type:"plus",price:560,location:"Bali"}],M=function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={hotels:[],sort:!0,dataFromApi:[],currency:"USD"},e.convertPrice=function(t){e.setState({currency:t})},e.filterHotels=function(t){var a=e.state.hotels.filter((function(e){return e.location.toLowerCase().includes(t.toLowerCase())}));e.setState({hotels:t.length>0?a:e.props.hotels}),console.log(a)},e.filterHotelsPrice=function(t){var a=e.props.hotels.filter((function(e){return e.price>=parseInt(t)}));e.setState({hotels:t.length>0?a:e.props.hotels})},e.sortHotels=function(){var t,a;return e.state.sort?(t=1,a=-1):(t=-1,a=1),e.props.hotels.sort((function(e,n){return e.title>n.title?t:n.title>e.title?a:0}))},e.switchSort=function(){e.setState({sort:!e.state.sort,hotels:e.sortHotels()})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){0===this.props.hotels.length&&this.props.getHotels()}},{key:"componentDidUpdate",value:function(e,t){var a=this;if(t.currency!==this.state.currency){var n=JSON.parse(JSON.stringify(D)).map((function(e){return e.price=Math.ceil(e.price*L[a.state.currency]),e}));this.setState({hotels:n})}}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(q,{filterHotels:this.filterHotels,filterHotelsPrice:this.filterHotelsPrice}),r.a.createElement("div",{className:"Wrapper"},r.a.createElement(O,{className:"Sidebar"}),r.a.createElement(H,{data:this.props.hotels,switchSort:this.switchSort,sort:this.state.sort,convertPrice:this.convertPrice})))}}]),a}(r.a.Component),W=Object(y.b)((function(e){return{hotels:e.hotels}}),(function(e){return{getHotels:function(t){return e((function(e){e({type:"GET_HOTELS"}),v.a.get("".concat(k,"/hotels")).then((function(t){e({type:"GET_HOTELS_SUCCESS",payload:t.data})})).catch((function(){e({type:"GET_HOTELS_ERROR"})}))}))}}}))(M),F=a(25),G=function(e){var t=Object(n.useState)({}),a=Object(F.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){!function(e,t){v.a.get("https://nodejs-mysql-it-academy.herokuapp.com/hotels/"+e).then((function(e){t(e.data)})).catch((function(e){console.log(e)}))}(e.match.params.id,c)}),[]),Object.keys(l).length>0&&r.a.createElement("div",{className:"hotel-view"},l.title)},X=a(18),Z=(a(41),function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).login=function(t){t.preventDefault();var a,n=new FormData(t.target),r=Object(X.a)(n);try{for(r.s();!(a=r.n()).done;){var l=a.value;console.log(l)}}catch(c){r.e(c)}finally{r.f()}v.a.post("https://nodejs-mysql-it-academy.herokuapp.com/login",n,{headers:{"Content-type":"multipart/form-data"}}).then((function(t){localStorage.setItem("token",t.data.accessToken),e.props.history.push("/")})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Login"),r.a.createElement("form",{onSubmit:this.login},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Login"})))}}]),a}(r.a.Component)),B=Object(m.g)(Z),J=(a(86),function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).register=function(e){e.preventDefault();var t,a=new FormData(e.target),n=Object(X.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;console.log(r)}}catch(l){n.e(l)}finally{n.f()}v.a.post("https://nodejs-mysql-it-academy.herokuapp.com/register",a,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:this.register},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"email",name:"email",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Repeat Password:"),r.a.createElement("input",{type:"password",name:"password2",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Register"})))}}]),a}(r.a.Component)),Q=(a(87),function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={scrollClass:""},e.handleScroll=function(){window.pageYOffset>=130?e.setState({scrollClass:"sticky"}):e.setState({scrollClass:""})},e.handleClick=function(){e.props.history.push("/login")},e.handleLogoutClick=function(){localStorage.removeItem("token"),e.props.verifyUserStatus()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.isAuthorized,a=e.user;return r.a.createElement("nav",{id:"nav",className:this.state.scrollClass},r.a.createElement(u.b,{to:"/",className:"nav-link"},"Home"),r.a.createElement(u.b,{to:"/favourite",className:"nav-link"},"Favourites"),r.a.createElement(u.b,{to:"/my-hotels",className:"nav-link"},"My Hotels"),!t&&r.a.createElement("div",null,r.a.createElement(u.b,{to:"/register",className:"button secondary"},"Register"),r.a.createElement("input",{type:"button",value:"Login",className:"button primary",onClick:this.handleClick})),t&&r.a.createElement("div",null,r.a.createElement(u.b,{to:"/add-hotel"},"Add hotels"),r.a.createElement("input",{type:"button",value:"Logout",onClick:this.handleLogoutClick}),r.a.createElement("div",{className:"user-profile"},a.username)))}}]),a}(r.a.Component)),K=Object(m.g)(Q),I=(a(88),function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"contact-container"},r.a.createElement("h1",null,"Contact us"),r.a.createElement("form",null,r.a.createElement("label",null,"Name:",r.a.createElement("input",{type:"text",name:"name"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Email:",r.a.createElement("input",{type:"text",name:"email"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Message:",r.a.createElement("input",{type:"textarea",name:"message"}),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement("input",{type:"submit",value:"Send"})))}}]),a}(r.a.Component)),_=a(48),Y=function(e){var t=e.component,a=e.isAuthorized,n=Object(_.a)(e,["component","isAuthorized"]);return console.log("PrivateRoute",a),r.a.createElement(m.b,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,e):r.a.createElement(m.a,{to:"/login"})}}))},$=function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).addHotel=function(e){e.preventDefault();var t,a=new FormData(e.target),n=Object(X.a)(a);try{for(n.s();!(t=n.n()).done;){var r=t.value;console.log(r)}}catch(c){n.e(c)}finally{n.f()}var l={headers:{"Content-type":"multipart/form-data","x-access-token":localStorage.getItem("token")}};v.a.post(k+"/hotels",a,l).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"Add new hotel"),r.a.createElement("form",{onSubmit:this.addHotel},r.a.createElement("label",null,"title:"),r.a.createElement("input",{type:"text",name:"hotelTitle",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"image:"),r.a.createElement("input",{type:"file",name:"hotelImage",required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Price:"),r.a.createElement("input",{type:"text",name:"hotelPrice",required:!0}),r.a.createElement("label",null,"type:"),r.a.createElement("select",{type:"select",name:"hotelType",required:!0},r.a.createElement("option",{selected:!0,value:"normal"},"Normal"),r.a.createElement("option",{value:"plus"},"plus"),r.a.createElement("option",{value:"premium"},"premium")),r.a.createElement("label",null,"location:"),r.a.createElement("input",{type:"text",name:"hotelLocation",required:!0}),r.a.createElement("input",{type:"submit",value:"add hotel"})))}}]),a}(r.a.Component),ee=Object(m.g)($),te=function(){var e=Object(y.d)((function(e){return e.userHotels})),t=Object(y.c)();return Object(n.useEffect)((function(){t((function(e){e({type:"GET_USER_HOTELS"}),v.a.get("".concat(k,"/my-hotels"),w).then((function(t){e({type:"GET_USER_HOTELS_SUCESS",payload:t.data})})).catch((function(){e({type:"GET_USER_HOTELS_ERROR"})}))}))}),[]),r.a.createElement("div",null,e.map((function(e){return r.a.createElement("div",null,r.a.createElement(N,{data:e}))})))},ae=function(){var e=Object(n.useState)(""),t=Object(F.a)(e,2),a=t[0],l=t[1],c=Object(y.d)((function(e){return e.favourites})),o=Object(y.c)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Favourite list"),r.a.createElement("input",{type:"text",onChange:function(e){l(e.target.value)}}),c.filter((function(e){return e.title.toLowerCase().includes(a.toLowerCase())})).map((function(e){return r.a.createElement("p",{onClick:function(){var t;t=e.id,o({type:"REMOVE_FROM_FAVOURITES",payload:t})}},e.title)})))},ne=(a(89),function(){return c.a.createPortal(r.a.createElement("div",{className:"notification"},"test notification"),document.getElementById("portal-root"))}),re=function(e){Object(s.a)(a,e);var t=Object(A.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:null,isAuthorized:!1},e.verifyUserStatus=function(){var t=localStorage.getItem("token"),a={headers:{"x-access-token":t}};t&&t.length>0&&v.a.get("".concat(k,"/users/me"),a).then((function(t){e.setState({user:t.data,isAuthorized:!0})})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.verifyUserStatus()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,null,r.a.createElement(ne,null),r.a.createElement(K,{isAuthorized:this.state.isAuthorized,user:this.state.user,verifyUserStatus:this.verifyUserStatus}),r.a.createElement(m.d,null,r.a.createElement(m.b,{path:"/hotel/:id",component:G}),r.a.createElement(m.b,{path:"/login",component:B}),r.a.createElement(m.b,{path:"/register",component:J}),r.a.createElement(Y,{path:"/add-hotel",component:ee,isAuthorized:this.state.isAuthorized}),r.a.createElement(m.b,{path:"/contact-us",component:I}),r.a.createElement(Y,{path:"/my-hotels",component:te,isAuthorized:this.state.isAuthorized}),r.a.createElement(m.b,{path:"/favourite",component:ae}),r.a.createElement(m.b,{path:"/",component:W}))))}}]),a}(r.a.Component),le=a(19),ce=a(30),oe=a(20),ie={text:null,hotels:[],favourites:[],userHotels:[]},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_TEXT":return Object(oe.a)({},e,{text:t.payload});case"GET_HOTELS_SUCCESS":return Object(oe.a)({},e,{hotels:t.payload});case"ADD_TO_FAVOURITES":return Object(oe.a)({},e,{favourites:[].concat(Object(ce.a)(e.favourites),[t.payload])});case"REMOVE_FROM_FAVOURITES":return Object(oe.a)({},e,{favourites:Object(ce.a)(e.favourites.filter((function(e){return e.id!==t.payload})))});case"GET_USER_HOTELS_SUCCESS":return Object(oe.a)({},e,{userHotels:t.payload});default:return e}},se=a(49),ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||le.c,me=Object(le.a)(se.a),pe=Object(le.d)(Ae,ue(me));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(y.a,{store:pe},r.a.createElement(re,null))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.22db2216.chunk.js.map